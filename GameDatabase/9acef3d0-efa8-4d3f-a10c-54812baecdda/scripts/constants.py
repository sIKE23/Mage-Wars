#######
#v2.0.0.0#
#######

#Markers#
AcademyAction = ("Acadmey Action Marker","06c01638-6a75-43ef-82bc-807764521c5a")
AcademyActionUsed = ("Acadmey Used Action Marker","06c01638-6a75-43ef-82bc-807764521c5a")
ActionBlue = ("Blue Action Marker","c980c190-448d-414f-9397-a5f17068ac58")
ActionBlueUsed = ("Blue Action Marker Used","5926df42-919d-4c63-babb-5bfedd14f649")
ActionGreen = ("Green Action Marker","9cd83c4b-91b7-4386-9d9a-70719971f949")
ActionGreenUsed = ("Green Action Used","5f20a2e2-cc59-4de7-ab90-cc7d1ced0eee")
ActionRed = ("Red Action Marker","4dd182d2-6e69-499c-b2ad-38701c0fb60d")
ActionRedUsed = ("Red Action Marker Used","2e069a99-1696-4cbe-b6c6-13e1dda29563")
ActionYellow = ("Yellow Action Marker","2ec4ddea-9596-45cc-a084-23caa32511be")
ActionYellowUsed = ("Yellow Action Marker Used","7c145c5d-54c3-4f5b-bf66-f4d52f240af6")
ActionGrey = ("Grey Action Marker","623f07fb-9cfb-4b4b-a350-6b208f0ef29e")
ActionGreyUsed = ("Grey Action Marker Used","99bd454e-fab9-47c6-9f59-54a112eeb2da")
ActionPurple = ("Purple Action Marker","edb61e00-a666-480a-81f3-20eb9944b0ea")
ActionPurpleUsed = ("Purple Action Marker Used","158f738b-6034-4c6d-b4ca-5abcf159ed9f")
AirGlyphActive = ("Air Glyph Active", "e8237864-1442-4b66-9e9f-57abe2f518fd")
AirGlyphInactive = ("Air Glyph Inactive", "4da1b360-d498-4514-bb35-904c25e7481d")
Armor = ("Armor +1","b3b6b5d3-4bda-4769-9bac-6ed48f7eb0fc")
Banish = ("Banish","fdaa2c02-a65a-40e0-a315-962f9315b732")
Bleed = ("Bleed: Upkeep: Take 1 Damage. Remove with 1 Healing. Removal Cost: 2","df8e1a68-9fc3-46be-ac4f-7d9c61805cf5")
BloodReaper = ("Blood Reaper","50d83b50-c8b1-47bc-a4a8-8bd6b9b621ce")
Burn = ("Burn: Upkeep: Roll 1 die 0 = Remove Burn 1-2 = Take Damage","f9eb0f3a-63de-49eb-832b-05912fc9ec64")
Charge = ("Charge Token","4546a2ed-3ac4-4baf-8d56-9f51af888a75")
Corrode = ("Corrode: -1 Armor","c3de25bf-4845-4d2d-8a28-6c31ad12af46")
ControlMarkerBlue = ("Blue Control Marker","da724182-3695-4124-becc-928eb870c5dc")
ControlMarkerGreen = ("Green Control Marker","e97408e7-985b-46d9-a5e7-98ffb4a3f587")
ControlMarkerRed = ("Red Control Marker","c56839d2-46f4-49a8-85e4-3838e7f09cc2")
ControlMarkerYellow = ("Yellow Control Marker","fe2adfab-4cda-4a1d-843a-84865747ff98")
ControlMarkerPurple = ("Purple Control Marker","5d6e5424-031b-44d4-9e0e-eb93f29baf6d")
ControlMarkerGrey = ("Grey Control Marker","1b9d7c43-9cd3-4218-8451-4fd7edfc8a4f")
Cripple = ("Cripple: Restrained. After acting, roll 7+ to remove. - Removal Cost: 4","82df2507-4fba-4c81-a1de-71e70b9a16f5")
CrushToken = ("Crush Token","d7472637-7c6d-4593-bc16-5975155c2926")
Damage = ("Damage","f316259d-10ad-471f-bdbc-884d11a8ced9")
Daze = ("Daze: Attacks - Escape roll of 7+ or the Attack fails. -2 Defenses - Removal Cost: 2","3ef51126-e2c0-44b3-b781-0b3f8476cb20")
DeflectR = ("Deflect Ready","684fcda0-e69d-426e-861c-5a92bc984f55")
DeflectU = ("Deflect Used","2c5b85ea-93de-4a99-b64d-da6c48baa205")
Disable = ("Disable: Remove 1 each Reset Phase","f68b3b5b-0755-40f4-84db-bf3197a667cb")
DissipateToken = ("Dissipate Token","96348698-ae05-4c59-89bb-e79dad50ad1f")
DivineChallenge = ("Divine Challenge", "203022f6-4c33-4ba8-addf-a7ec46760fdc")
DominationToken = ("Domination Token","d2beb747-0d46-4ae9-bb86-c125441fcae1")
EarthGlyphActive = ("Earth Glyph Active", "ae3ed2d0-1f32-4373-b61a-54f1a92aa847")
EarthGlyphInactive = ("Earth Glyph Inactive", "acb58bb4-2bc1-4534-9d68-a18a68d764b4")
EternalServant = ("Eternal Servant: Reanimate, Piercing +1","86a71cf6-35ce-4728-a2f8-6701b1e29aa4")
EggToken = ("Egg Token","874c7fbb-c566-4f17-b14e-ae367716dce5")
FFToken = ("Forcefield Token","fc23dce7-d58a-4c7d-a1b2-af9e23f5f29b")
FermataBlue1 = ("Fermata (Blue) 1","332e2df0-3101-462d-a2b4-b489170f4212")
FermataBlue2 = ("Fermata (Blue) 2","00113acf-e34c-4150-992f-fdcdca2978b2")
FermataGreen1 = ("Fermata (Green) 1","de825d87-c78f-4c35-aba4-e2abce2ef000")
FermataGreen2 = ("Fermata (Green) 2","e724865e-9e9a-486d-a230-1b7d94de2d6c")
FireGlyphActive = ("Fire Glyph Active", "d9d4073d-c8dd-495d-bc5c-3d1535fd1231")
FireGlyphInactive = ("Fire Glyph Inactive", "af3f117c-1933-4bf0-ab6f-e083423ec052")
Freeze = ("Freeze: -1 on non-spell attacks, lumbering, -2 life, remove 1 upon activation", "c40445e9-118c-4212-af4c-76d12d4c1fe0")
GateClosed = ("The Gate to Hell is Closed!","fcdf5fa2-cb09-47a3-8c81-d4b87380b397")
GateOpened = ("The Gate to Hell has been Opened, Bim-Shalla have mercy on our souls!","fd17ee65-9bc8-4a00-a359-ff8e2418ad5c")
Grapple = ("Grapple: May only Melee and rolls 2 less dice vs Grappler","f1247aea-2067-44e6-a496-8ea1a8789da9")
Growth = ("Growth: Innate Life +3, Melee +1","c580e015-96ff-4b8c-8905-28688bcd70e8")
Guard = ("Guard","91ed27dc-294d-4732-ab71-37911f4011f2")
HolyAvenger = ("Holy Avenger","99381ac8-7d73-4d75-9787-60e6411d3613")
Ichthellid = ("Ichthellid Larva: Removal Cost: 5","c8bff05e-e43a-4b23-b467-9c4596050f28")
Invisible = ("Invisible: Cannot be targeted. Elusive. Pest.","8d994fe9-2422-4a9d-963d-3ad10b2b823d")
Ki = ("Ki", "8af4c052-a38c-4f59-bd31-2e62ba3063f2")
Light = ("Light +1", "14a7b28a-7abc-4330-b139-c7939469df89")
LoadToken = ("Load Token","d32267be-f4c5-48c6-8396-83c0db406942")
Mana = ("Mana","7ff7afc3-ae04-49bf-9961-1a04b0f6ac19")
Melee = ("Melee +1","e96b3791-fbcf-40a2-9c11-106342703db9")
MistToken = ("Mist Token","fcc2ffeb-6ae6-45c8-930e-8f3521d326eb")
Pet = ("Pet","f4a2d3d3-4a95-4b9a-b899-81ea58293167")
Quick = ("Quickcast Marker","11370fe9-41a4-4f05-9249-29a179c0031b")
QuickBack = ("Quickcast User Marker","a6ce63f9-a3fb-4ab2-8d9f-7d4b0108d7fd")
Rage = ("Rage","feb7e8f8-5c38-4978-92c8-2d47d54bdd29")
Ranged = ("Ranged +1","cfb394b2-8571-439a-8833-476122a9eaa5")
Ready = ("Ready","aaea8e90-e9c5-4fbc-8de3-4bf651d784a7")
ReadyII = ("Ready II","73fffebd-a8f0-43bd-a118-6aebc366ecf6")
Retribution = ("Retribution: Melee +1","88fc4b07-9596-48f4-a049-d5be58ae254c")
Rot = ("Rot: During Upkeep take 1 Damage - Removal Cost 2","81360faf-87d6-42a8-a719-c49386bd2ab5")
RuneofFortification = ("Rune of Fortification: If this equipment gives an Armor +X bonus to the Mage, it gives an additional Armor +1.","ae179c85-11ce-4be7-b9c9-352139d0c8f2")
RuneofPower = ("Rune of Power: Once per round, you may pay 1 less mana when casting a spell bound to this equipment or using a spell action provided by this equipment.","b3dd4c8e-35a9-407f-b9c8-a0b0ff1d3f07")
RuneofPrecision = ("Rune of Precision: This equipment's non-spell attacks gain the Piercing +1 trait.","c2a265f9-ad97-4976-a83c-78891a224478")
RuneofReforging = ("Rune of Reforging: This equipment gains the Cantrip trait.","d10ada1f-c03b-4077-b6cb-c9667d6b2744")
RuneofShielding = ("Rune of Shielding: If this equipment gives your Mage a Defense, the first time each round that defense is used, add +2 to the Defense roll.","e0bb0e90-4831-43c6-966e-27c8dc2d2eef")
SecretPassage = ("Secret Passage","a4b3bb92-b597-441e-b2eb-d18ef6b8cc77")
SirensCall = ("Siren's Call","f6eaf1e9-f0b0-4ac3-9719-7463777fb031")
Slam = ("Slam: Incapacitated. Replace with Daze when activated. - Removal Cost: 3","f7379e4e-8120-4f1f-b734-51f1bd9fbab9")
Sleep = ("Sleep: Incapacitated. Replace with Daze when damaged. Removal Cost: Sleep has a removal cost equal to the sleeping creature's Level","ad0e8e3c-c1af-47b7-866d-427f8908dea4")
SealToken = ("Sealed Token", "a95c1445-674c-4ab6-9247-d0b0fac80fb3")
SecretPassage = ("Secret Passage",	"a4b3bb92-b597-441e-b2eb-d18ef6b8cc77")
SpikedPitTrap = ("Spiked Pit Trap","8731f61b-2af8-41f7-8474-bb9be0f32926")
Stagger = ("Stagger: Minor Creature: Can not Attack or Guard, Major Creature: -2 Attack Dice","ede2252f-b47f-4ea2-a448-08fd3b22d506")
StormToken = ("Storm Token","6383011a-c544-443d-b039-9f7ba8de4c6b")
Strongest = ("Strongest","5c97e301-99fa-4581-a01c-617bc2c5eaa3")
Stuck = ("Stuck: Restrained and Unmovable. Roll 7+ to remove. - Removal Cost:4","a01e836f-0768-4aba-94d8-018982dfc122")
Stun = ("Stun: Incapacitated. Remove after acting. - Removal Cost: 4","4bbac09e-a46c-42de-9272-422e8074533f")
Tainted = ("Tainted: This can't be healed. - Removal Cost: 3","826e81c3-6281-4a43-be30-bac60343c58f")
Taunt = ("Taunt (Sosroku)","16f03c44-5656-4e9d-9629-90c4ff1765a7")
TauntS = ("Taunt (Skeelax)","9ea607d3-dade-44dc-a69d-1c0d5691a246")
TauntT = ("Taunt (Thorg)","8b5e3fe0-7cb1-44cd-9e9c-dadadbf04ab7")
Treebond = ("Treebond: Innate Life +4, Lifebond +2, Armor +1","ced2ce11-5e69-46a9-9fbb-887e96bdf805")
Turn = ("Turn","e0a54bea-6e30-409d-82cd-44a944e591dc")
Used = ("Used","ab8708ac-9735-4803-ba4d-4932a787540d")
UsedII = ("Used II","61bec951-ebb1-48f7-a2ab-0b6364d262e6")
Veteran = ("Veteran: Melee +1, Armor +1","72ee460f-adc1-41ab-9231-765001f9e08e")
Visible = ("Visible","b9b205a2-a998-44f5-97dc-c7f315afbbe2")
VoltaricON = ("Voltaric On","a6e79926-db8d-4095-9aee-e3b46bf24a3f")
VoltaricOFF = ("Voltaric Off","d91aabe0-d9cd-4b7e-b994-4e1c7a51c027")
VTar =	("V'Tar","3c74d2dd-cabd-4f90-8845-18297d503b70")
VTarOrbOn = ("V'Tar Orb On","3d339a9d-8804-4afa-9bd5-1cabb1bebc9f")
VTarOrbOff  = ("V'Tar Orb Off","3f056a2d-3045-4f38-ae8b-f2155250f4dc")
WaterGlyphActive = ("Water Glyph Active", "9e7b7949-fdda-4d2a-b16f-e35e9ac9cf20")
WaterGlyphInactive = ("Water Glyph Inactive", "ffe746d4-7711-492b-981d-c34121eca290")
Weak = ("Weak: -1 Attack Dice for Non-Spell Attacks - Removal Cost: 2","22ef0c9e-6c0b-4e24-a4fa-e9d83f24fcba")
Wish = ("Wish Token","fcf39fa4-238a-4cb6-92bb-5f561be747c0")
WoundedPrey = ("Wounded Prey","42f6cee3-3de4-4c90-a77c-9fb2c432d78d")
Wrath = ("Wrath","fffe964a-3839-4bc0-ba85-3268b59817c6")
Zombie = ("Zombie: Psychic Immunity, Slow, Nonliving, Bloodthirsty +0","de101060-a4b4-4387-a7f8-aab82ecff2c8")

#Dice-related#
attackDie = [ ("No Damage","a1f061ec-efbe-444e-8e06-8d973600696c"),
					("No Damage","a1f061ec-efbe-444e-8e06-8d973600696c"),
					("1 Normal Damage","8cc1704a-6f2f-4dbf-a80c-8f79a5a8d165"),
					("2 Normal Damage","b881f652-9384-43e1-9758-e68b04583b3b"),
					("1 Critical Damage","a3d3fff3-bb1c-4469-9a9d-f8dc1f341d39"),
					("2 Critical Damage","101976ea-ec22-4496-a762-6fbc0d1a41bb")]

effectDie = ("Effect Die (d12)","3cdf4231-065d-400e-9c74-d0ae669e852c")
attackDiceBank = []
effectDieBank = []

#Card Sizes#
cardSizes = {'Default': {'height': 80, 'width': 60, 'backHeight': 80, 'backWidth': 60},
				   'Horizontal Cards': {'height': 60, 'width': 80, 'backHeight': 80, 'backWidth': 60},
				   'Dice Roll Area': {'height': 80, 'width': 130, 'backHeight': 80, 'backWidth': 130},
				   'PhaseMarkers': {'height': 20, 'width': 90, 'backHeight': 20, 'backWidth': 90},
				   'InitativeMarkers': {'height': 50, 'width': 50, 'backHeight': 50, 'backWidth': 50},
				   'ModularBoardPieces': {'height': 250, 'width': 250, 'backHeight': 250, 'backWidth': 250}}

#Player Colors#
playerColorDict = {
		1 : {"PlayerColor":"Red", "Hex":"#de2827", "ControlMarker":ControlMarkerRed}, #Red - R=222 G=40  B=39
		2 : {"PlayerColor":"Blue", "Hex":"#171e78", "ControlMarker":ControlMarkerBlue}, #Blue - R=23  G=30  B=120
		3 : {"PlayerColor":"Green", "Hex":"#01603e", "ControlMarker":ControlMarkerGreen}, #Green - R=1   G=96  B=62
		4 : {"PlayerColor":"Yellow", "Hex":"#f7d917", "ControlMarker":ControlMarkerYellow}, #Yellow - R=247 G=217 B=23
		5 : {"PlayerColor":"Purple", "Hex":"#ae76f6", "ControlMarker":ControlMarkerPurple}, #Purple - R=174 G=118 B=246
		6 : {"PlayerColor":"Grey", "Hex":"#c0c0c0", "ControlMarker":ControlMarkerGrey} #Grey - R=192 G=192 B=192
			 }

listControlMarkers = [ControlMarkerRed,ControlMarkerBlue,ControlMarkerGreen,ControlMarkerYellow,ControlMarkerPurple,ControlMarkerGrey]

#Board Settings#
gameBoardsDict = {
				1 : {"boardName":"Westlock - 4X3","zoneDef":(4,3,250),"buttonColor":"#171e78"},
				2 : {"boardName":"Inferno - 4x3","zoneDef":(4,3,250),"buttonColor":"#de2827"},
				3 : {"boardName":"Marble Floors - 4X3","zoneDef":(4,3,250),"buttonColor":"#c0c0c0"},
				4 : {"boardName":"Slimy Rocks - 4X4","zoneDef":(4,4,250),"buttonColor":"#c680b4"},
				5 : {"boardName":"Forest - 5X4","zoneDef":(5,4,200),"buttonColor":"#01603e"},
				6 : {"boardName":"Westlock Apprentice - 3x2","zoneDef":(3,2,300),"buttonColor":"#171e78"},
				7 : {"boardName":"OCTGN Forest Apprentice - 3x3","zoneDef":(3,3,300),"buttonColor":"#01603e"},
				8 : {"boardName":"Double Westlock - 6x4","zoneDef":(6,4,167),"buttonColor":"#171e78"}
						 }


##########################		Lists			############################
listMageWeapons = ["Johktari Hunting Knife","Faith Healer\'s Staff", "Rod of the Arcanum","Hellstar","Resplendent Bow", "Shifratar", "Ivarium Halberd", "Thorn Whip", "Elemental Staff", "Bo Staff", "Sacrificial Blade", "Soulreaper", "Dragon\'s Lance", "Gladius"]
typeChannelingList = ["Mana Flower","Mana Crystal","Moonglow Amulet"]
typeIgnoreList = ["Internal","Phase","DiceRoll","V'Tar Orb Off","V'Tar Orb On"]
tokenList = ["Armor","Banish","Bleed","Burn","Charge","Cripple","Corrode","Disable","Daze","Grapple","Growth","Mana","Melee","Rage",
					"Ranged","Rot","Slam","Stagger","Strongest","Stun","Stuck","Sleep","Tainted","Veteran","Weak","Wish","Wrath","Zombie"]

for token in tokenList:
		exec('def add'+token+'(card, x = 0, y = 0):\n\taddToken(card,'+token+')')
		exec('def sub'+token+'(card, x = 0, y = 0):\n\tsubToken(card,'+token+')')

#Misc#
debugMode = False
currentPhaseMW = ""
discountsUsed = [ ]
tutorialTagsRead = []
gameStartTime = ""
gameEndTime = ""
roundTimes = []
gameTurn = 0
gameNum = 0
infostr = ""
